<%
  modules = class_name.split("::")
  modules[0] = "Mediators::#{modules[0]}"
  ident = ""
%>
<% modules[0..-2].each do |m| %>
<%=  "#{ident}module #{m}\n" %>
<%   ident << "  " %>
<% end %>
<%=  ident %>class <%= modules.last %> < Mediators::Base
<%=  ident %>  def initialize(args)
<%=  ident %>    
<%=  ident %>  end

<%=  ident %>  def call
<%=  ident %>    
<%=  ident %>  end
<%=  ident %>end
<% while ident.size > 0 do %>
<%   ident.chop!.chop! %>
<%=  "#{ident}end\n" %>
<% end %>
